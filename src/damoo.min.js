;(function(h){var a=function(l,q,p,o){if(!(this instanceof a)){return new a(l,q,p,o)}this.canvas=new c(l,q,p,o);this.thread=new k(p)};a.version="v2.1.7";a.dom=h.document;var d=function(o,n,l){var m=a.dom.createElement("a");m.style.height=l+"px";m.style.width=n+"px";m.setAttribute("href",o);m.setAttribute("class","hyper_link");m.setAttribute("target","_blank");return m};var f=function(l,m){this.size=l;this.family=m};var i=function(n,m){var o=a.dom.createElement("canvas"),l=o.getContext("2d");l.font=m.value;o.width=l.measureText(n.text).width;o.height=m.size*1.2;l.font=m.value;l.textAlign="start";l.textBaseline="top";if(n.shadow){l.shadowOffsetX=1;l.shadowOffsetY=1;l.shadowColor="#fff";l.shadowColor=n.shadow.color}l.fillStyle=n.color||"#fff";l.fillText(n.text,0,0);if(n.link){o.link=d(n.link,o.width,o.height)}return o};var e=h.requestAnimationFrame||h.mozRequestAnimationFrame||h.webkitRequestAnimationFrame||h.msRequestAnimationFrame||h.oRequestAnimationFrame||function(l){return setTimeout(l,17)};var b=h.cancelAnimationFrame||h.mozCancelAnimationFrame||h.webkitCancelAnimationFrame||h.webkitCancelRequestAnimationFrame||h.msCancelAnimationFrame||h.oCancelAnimationFrame||function(l){clearTimeout(l)};a.prototype.show=function(){this.canvas.parent.appendChild(this.canvas.layer);return this};a.prototype.hide=function(){this.canvas.parent.removeChild(this.canvas.layer);return this};a.prototype.emit=function(l){var m=i(l,this.canvas.font);this.thread.push({canvas:m,fixed:l.fixed,index:this.thread.index,speed:Math.pow(m.width,1/3)*0.6,offset:{x:this.canvas.width,y:this.canvas.font.size*this.thread.index},link:l.link});return this};a.prototype.clear=function(){this.thread.empty();return this};var j;var g=function(){this.canvas.clear();for(var m=0;m<this.thread.length;m++){var n=this.thread.get(m),l=n.offset.x,o=n.offset.y;this.canvas.draw(n,l,o);n.offset.x-=n.speed;if(l<=-n.canvas.width){this.thread.remove(m)}}j=e(function(p){return function(){g.call(p)}}(this))};a.prototype.start=function(){if(this.state===void 0){this.clear().show()}if(!this.state){g.call(this);this.state=1}return this};a.prototype.suspend=function(){if(this.state===void 0){return this}b(j);this.state=0;return this};a.prototype.resume=function(){return this.start()};var c=function(l,q,p,o){this.parent=l.nodeType==1?l:a.dom.getElementById(l);this.id=q;this.rows=p;this.width=this.parent.offsetWidth;this.height=this.parent.offsetHeight;if(this.height/this.rows<12){this.rows=this.height/12}this.font=new f(this.height/this.rows,o||"sans-serif");this.layer=a.dom.createElement("canvas");this.context=this.layer.getContext("2d");this.layer.id=this.id;this.layer.width=this.width;this.layer.height=this.height;this.layer.style.display="block";this.layer.style.backgroundColor="transparent";if(this.parent.style.position){this.layer.style.position="fixed";this.layer.style.left=this.parent.offsetLeft;this.layer.style.top=this.parent.offsetTop}else{this.parent.style.position="relative";this.layer.style.position="absolute";this.layer.style.left=0;this.layer.style.top=0}this.layer.style.zIndex=99999};c.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};c.prototype.draw=function(m,l,p){var o,n;if(m.fixed){o=(this.width-m.canvas.width)/2+0.5|0}else{o=l+0.5|0}n=p+0.5|0;this.context.drawImage(m.canvas,o,n);if(m.link!==undefined){this.parent.appendChild(this.adjustLinkPosition(m.canvas.link,n,o))}};c.prototype.adjustLinkPosition=function(l,n,m){l.style.left=m+"px";l.style.top=n+"px";return l};Object.defineProperty(f.prototype,"value",{get:function(){return this.size+"px "+this.family}});var k=function(l){this.index=0;this.rows=l;this.pool=[]};k.prototype.push=function(l){this.index++;if(this.index>=this.rows){this.index=0}this.pool.push(l)};k.prototype.get=function(l){return this.pool[l]};k.prototype.remove=function(n){var m=this.get(n);if(m.link!==undefined){m.canvas.link.remove()}var l=m.index;if(this.index>l){this.index=l}this.pool.splice(n,1)};k.prototype.empty=function(){this.index=0;this.pool=[]};Object.defineProperty(k.prototype,"length",{get:function(){return this.pool.length}});h.Damoo=a})(window);
